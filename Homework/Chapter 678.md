# Chapter 6

## R2

TCP依然是有必要的。虽然可靠交付的链路可以保证IP数据报在另一端无错误接收，但却还是无法保证按序到达，这是因为使用IP会使得同一TCP链接中的数据包采用不同路由。TCP可以保证以正确顺序向接收端发送报文。

## R6

第五次碰撞后，网络适配器从$\{0,1,2,...,31\}$中选择一个值，选择4的概率是$\frac {1}{32}$，需要等待的时间为：
$$
4 \times \frac{512bits}{10Mbps}=204.8\mu s
$$

## R11

（1）ARP查询时，由于查询主机不知道哪个MAC地址对应所述的IP地址，因此需要广播发送ARP查询，让所有设备都能进行一次比较，并作出响应。

（2） ARP响应时，发送节点知道目标的MAC地址（因为查询中含有源节点MAC地址），因此不需要广播发送

## R16

将N个开关串在一起，第一个交换机使用一个端口进行中继（注意到这个交换机也是最后一个交换机），中间N-2个交换机使用两个端口，总数为2N-2个端口



## P2

初始二位奇偶矩阵如下：

```c++
0 0 0 0
1 1 1 1
0 1 0 1
1 0 1 0
```

如果第二行第三列出现错误：

```c++
0 0 0 0
1 1 0 1
0 1 0 1
1 0 1 0
```

那么第二行和第三列的校验比特出错，可以锁定错误的位置并进行纠正

但如果第二行的第三列和第二列同时出错：

```c++
0 0 0 0
1 0 0 1
0 1 0 1
1 0 1 0
```

那么第二行的校验比特依然正确，但第二列和第三列校验比特错误，我们无法得知错误来自哪里

## P5

$R = remainder \frac{D \times 2^r}{G} = remainder\frac{10101010100000}{10011}= 0100$，注意这里所有的运算均为异或

## P6

（a）$R = remainder \frac{D \times 2^r}{G} = remainder\frac{10010101010000}{10011}= 0000$

（b）$R = remainder \frac{D \times 2^r}{G} = remainder\frac{01011010100000}{10011}= 1111$

（c）$R = remainder \frac{D \times 2^r}{G} = remainder\frac{10101000000000}{10011}= 1001$

## P8

（a）

$E(p)=Np(1-p)^{N-1}$

$E'(p)=N(1-p)^{N-2}((1-p)-p(N-1))$

令$E'(p) = 0$，可得$p = \frac{1}{N}$

（b）

当$p = \frac{1}{N}$时

$\lim\limits_{x\rightarrow\infty}E(\frac{1}{N}) = \lim\limits_{x\rightarrow\infty} \frac{(1-\frac{1}{N})^N}{1-\frac{1}{N}} = \frac{1}{e}$

## P15

（a）不会，E检查主机F的IP地址和子网掩码，发现F和自己在同一个局域网上，因此E不会请求R1帮助转发

E到F的以太网帧：

> 源IP地址：E的IP地址
>
> 目的IP地址：F的IP地址
>
> 源MAC地址：E的MAC地址
>
> 目的MAC地址：F的MAC地址

（b）不会，因为E通过检查B的IP地址发现，他们不在同一个局域网上。

E到R1的以太网帧

> 源IP地址：E的IP地址
>
> 目的IP地址：B的IP地址
>
> 源MAC地址：E的MAC地址
>
> 目的MAC地址：R1连接到子网3接口的MAC地址

（c）

交换机S1将会通过两个接口广播以太网帧，同时它学习到了，A在子网1中，将更新自己的转发表来包括A的条目

R1也会收到这个ARP请求，但是R1不会把消息转发到子网3，因为ARP仅本地有效

B不会发送查询信息，因为A的MAC地址可以从A的查询消息中获得。

一旦S1获得了B的响应消息，它将了解到B在子网1中，更新转发表来包括B的条目，同时删除B的帧，因为A和B在同一个接口上

## P17

10Mbps：等待时间为$\frac{100 \times 512bits}{10Mbps} = 5.12ms$

100Mbps：等待时间为$\frac{100 \times 512bits}{100Mbps} = 512\mu s$

## P21

（i）从A到左侧路由器

> 源IP地址：A的IP地址
>
> 目的IP地址：F的IP地址
>
> 源MAC地址：A的MAC地址
>
> 目的MAC地址：左侧路由器在1中接口的MAC地址

（ii）从左侧路由器到右侧路由器

> 源IP地址：A的IP地址
>
> 目的IP地址：F的IP地址
>
> 源MAC地址：左侧路由器在2中接口的MAC地址
>
> 目的MAC地址：右侧路由器在2中接口的MAC地址

（iii）从右侧路由器到F

> 源IP地址：A的IP地址
>
> 目的IP地址：F的IP地址
>
> 源MAC地址：右侧路由器在3中接口的MAC地址
>
> 目的MAC地址：F的MAC地址

## P26

| 行为           | 交换机表               | 转发链路目标 | 评价                                           |
| -------------- | ---------------------- | ------------ | ---------------------------------------------- |
| B发送给E一个帧 | 添加B的MAC地址接口表项 | ACDEF        | 交换机表是空的，交换机不知道E的MAC地址对应接口 |
| E发送给B一个帧 | 添加E的MAC地址接口表项 | B            | 交换机已经知道B的MAC地址对应接口               |
| A发送给B一个帧 | 添加A的MAC地址接口表项 | B            | 交换机已经知道B的MAC地址对应接口               |
| B发送给A一个帧 | 无变化                 | A            | 交换机已经知道A的MAC地址对应接口               |

## P28

设EE三台计算机的IP地址为（从左到右）：111.111.1.1、111.111.1.2、111.111.1.3，子网掩码均为111.111.1/24

设CS三台计算机的IP地址为（从左到右）：111.111.2.1、111.111.2.2、111.111.2.3，子网掩码均为111.111.2/24

设路由器端口IP为111.111.1.0和111.111.2.0，前者与VLAN2（EE部门）关联，后者与VLAN3（CS部门）关联

假设EE部门中主机A（IP地址111.111.1）向CS部门中的主机B（IP地址111.11.2.1）发送IP数据报。主机A首先将IP数据报（目的地为B，也就是111.111.2.1）放置到具有与连接到交换机端口的路由器接口卡的MAC地址相等的目标MAC地址的帧中。当路由器接收到该帧是，会将其传递到IP层，通过子接口111.111.2.0将IP数据报转发到子网111.111.2/24。然后路由器将IP数据报封装成帧并发送到端口。该帧有一个802.1q标记VLAN3。当交换机接收到帧端口，它就知道该帧被发送到VLAN3，因此交换机将该帧发送到位于CS部门的主机B。

## P31

1. 计算机使用DHCP获取IP地址：首先在DHCP服务器发现步骤中创建一个指定IP地址为255.255.255.255的IP数据报，并放到以太网帧中在以太网中广播，通过DHCP协议，计算机获得了IP地址
2. 以太网上的DHCP服务器为计算机提供了第一跳路由器的IP地址列表和计算机所在的子网掩码以及本地DNS服务器的地址
3. 计算机使用ARP协议来获取第一跳路由器和本地DNS服务器的MAC地址
4. 计算机通过DNS服务器来获取想要下载的网页的IP地址，获取IP地址后，如果网页不在本地Web缓存器中，就将通过第一条路由器发送HTTP请求。这条请求将被分割封装在TCP数据包中，然后进一步封装到IP数据包中，再封装到以太网帧中。计算机把这个帧发送到第一跳路由器，由路由器传递到IP层，检查路由表后发送到正确的接口
5. IP包通过互联网路由，到达Web服务器，网页服务器将通过HTTP响应消息将网页发送回计算机。这些消息被封装到TCP数据包中，进一步封装到IP数据包中，由IP路由到达第一跳路由器。之后路由器将这些IP数据包封装到以太网帧中，转发到计算机中。



# Chapter 7

## R3

路径损耗：由于电磁信号在物质中传播时的衰减导致

多径传播：导致了接收端信号模糊，当电磁波部分反射物体时，发送方接收方之间不同长度路径选择时发生

来自其他源的干扰：当另一个源也在与无线网络相同频率范围内发送时，来自其他源干扰发生

## R9

每个无线站点可以设置一个RTS门限值，仅当帧长超过门限值时，才使用RTS/CTS序列

## R16

eNodeB：数据平面作用是在UE和P-GW之间转发数据报，控制平面作用是代表UE处理注册和移动信令业务

MME：代表驻留在其控制单元中的UE执行连接和移动管理，从HHS接收UE订购信息。

P-GW：给UE分配IP地址，并保证QoS实施。作为隧道端点，当向或从UE转发数据报时，它也执行数据报封装/解封装

S-GW：是数据平面移动锚点，即所有的UE流量将通过S-GW传递，也执行收费/记账功能以及法定的流量拦截

## R23

1. 本地恢复
2. TCP发送方知晓无线链路
3. 分离连接方法

## P5

（a）不会崩溃，可以并行进行传播，但会共享带宽

（b）不会共享带宽，独享带宽

## P6

这种设计为了防止短消息长时间等待。若H1传输一个50000帧的视频，且当其正在传输第一帧时，H2想要传输一个一帧的聊天信息，但此时H2监听到信道忙，因此等待。如果传送完第一帧后H1回到第一步，那么H1将持续传送这500000帧，H2一条很短的信息却要等待很久，这是令人无法忍受的，因此H1回到第二步进入休眠，那么这时H2很有机会能传送出这个短消息

## P7

发送控制帧的时间：$\frac{256bits}{11Mbps}=23\mu s$

发送数据的时间：$\frac{8256bits}{11Mbps} = 751\mu s$

 $T = DIFS+RTS+SIFS+CTS+SIFS+FRAME+SIFS+ACK $

​     $= DIFS+3SIFS+(3 \times 23 + 751)\mu s $

​     $= DIFS+3SIFS+820\mu s$

## P8

(a) 0.5message/slot

(b) 2message/slot

(c) 1message/slot

(d) 

​	(a) 1message/slot

​	(b) 2message/slot

​	(c) 2message/slot

(e)

​	(a) 

​		slot1: message A->B

​		slot2: ACK B->A

​		slot3: message B->C

​		slot4: ACK C->B

​		rate: 0.25message/slot

​	(b) 

​		slot1: message A->B, message D->C

​		slot2: ACK C->D

​		slot3: ACK B->A

​		rate: 2message / 3slots

​	(c)

​		rate: 2message/3slots



# Chapter 8

## R1

机密性是原始明文消息不能由拦截原始明文消息的密文加密的攻击者确定的属性，完整性是接收器可以检测发送的消息在传输中改变的属性。

二者可以不依赖彼此独立存在：因为在传输中被更改的加密消息仍然机密，而传输中被改变的消息可能已经是明文发送，不会是机密的。

## R3

重要区别：发送者和接收者必须知道相同的密钥。

## R13

公钥签名的消息摘要更好，因为只需要加密短消息摘要，而不是整个消息。由于使用RSA之类的技术进行的公钥加密非常昂贵，因此与大量数据相比,需要签名更少量的数据。

## R14

错误。为了创建证书，certificr.com将包含一个数字签名，该数字签名是foo.com信息的哈希，并使用erifiercom的私钥签名。

## R16

目的是防范重放攻击。

## P8

（a）$n = p \times q = 55, z = (p-1)\times (q-1) = 40$

（b）e小于n且与z没有公因子

（c）3d = 40k + 1，可得d=27

（d）$c = m ^e mod n = 8^3 mod 55 = 17$

## P17

![](C:\Users\MAdrid\Desktop\微信图片_20221212212021.jpg)

